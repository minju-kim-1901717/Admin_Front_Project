<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>Admin Page</title>
  <style>
        /* 💙 Blue Theme */
        [data-bs-theme="blue"] {
          --bs-body-bg: #e7f0ff;
          --bs-body-color: #0d3b66;
          --bs-primary: #1d4ed8;
          --bs-secondary: #60a5fa;
          --bs-link-color: #1e40af;
          --bs-border-color: #93c5fd;
        }

        /* 💚 Green Theme */
        [data-bs-theme="green"] {
          --bs-body-bg: #ecfdf5;
          --bs-body-color: #064e3b;
          --bs-primary: #10b981;
          --bs-secondary: #6ee7b7;
          --bs-link-color: #047857;
          --bs-border-color: #a7f3d0;
        }

        /* 🩷 Pink Theme */
        [data-bs-theme="pink"] {
          --bs-body-bg: #fff0f6;
          --bs-body-color: #5a1034;
          --bs-primary: #d63384;
          --bs-secondary: #f783ac;
          --bs-link-color: #c2255c;
          --bs-border-color: #f5c2e7;
        }
  </style>
</head>
<body>
  <div class="container mt-3">
    <div class="row align-items-start">
      <!-- 왼쪽 상단 -->
      <div class="col-md-8">
        <h3 class="mt-5 mb-3">신규 등록 상품</h3>
      </div>

      <!-- 오른쪽 상단 -->
      <div class="col-md-4 d-flex flex-column align-items-end">
        <!-- now time -->
        <div id="currentTime" class="text-end small text-muted"></div>
        <!-- signin btn -->
         <button onclick="openPopup()" class="btn active btn-sm my-1">  회원가입 </button>
        <!-- mode change btn -->
        <div class="d-flex align-items-center mb-2">
          <h6 class="me-2 mb-0">Mode</h6>
          <div class="btn-group">
            <button class="btn btn-outline-secondary theme-btn btn-sm" data-theme="light">☀️</button>
            <button class="btn btn-outline-dark theme-btn btn-sm" data-theme="dark">🌙</button>
            <button class="btn btn-outline-primary theme-btn btn-sm" data-theme="blue">💙</button>
            <button class="btn btn-outline-success theme-btn btn-sm" data-theme="green">💚</button>
            <button class="btn btn-outline-danger theme-btn btn-sm" data-theme="pink">🩷</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 필터링 폼 -->
    <form class="row row-cols-lg-auto g-3 align-items-center">
      <!-- 카테고리 -->
      <div class="col-12">
        <select class="form-select" id="categoryFilter" name="category_data_table">
          <option value="">카테고리</option>
          <option value="상의">상의</option>
          <option value="하의">하의</option>
          <option value="신발">신발</option>
          <option value="패션잡화">패션잡화</option>
        </select>
      </div>

      <!-- 성별 -->
        <div class="col d-flex align-items-center">
        <div class="form-check form-switch me-3">
            <input class="form-check-input" type="checkbox" id="genderMale" value="남">
            <label class="form-check-label" for="genderMale">남성</label>
        </div>
        <div class="form-check form-switch me-3">
            <input class="form-check-input" type="checkbox" id="genderFemale" value="여">
            <label class="form-check-label" for="genderFemale">여성</label>
        </div>
        </div>


      <!-- 검색 -->
      <div class="col-3">
        <input id="searchInput" class="form-control" type="text" placeholder="제품명을 입력해주세요">
      </div>
    </form>

    <!-- 제품 테이블 -->
    <div class="container mt-3">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>카테고리</th>
            <th>브랜드</th>
            <th>상품명</th>
            <th>가격</th>
            <th>성별</th>
          </tr>
        </thead>
        <tbody id="product_data_Table">
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // 제품 데이터 (성별 추가)
    const product_data = [
      { category: "상의", brand: 'Supreme', product: '슈프림 박스로고 후드티', price: '390,000', gender:"남" },
      { category: "하의", brand: 'DIESEL', product: '디젤 트랙 팬츠', price: '188,000', gender:"여" },
      { category: "신발", brand: 'Nike', product: '에어포스 1', price: '137,000', gender:"남" },
      { category: "패션잡화", brand: 'Music&Goods', product: '빵빵이 키링', price: '29,000', gender:"여" },
    ];

    // 테이블 렌더링
    function renderTable(data){
      const tbody = document.getElementById("product_data_Table");
      tbody.innerHTML = "";
      data.forEach(item=>{
        const row = tbody.insertRow();
        row.insertCell(0).innerText = item.category;
        row.insertCell(1).innerText = item.brand;
        row.insertCell(2).innerText = item.product;
        row.insertCell(3).innerText = item.price;
        row.insertCell(4).innerText = item.gender;
      });
    }

    // 필터링
    function applyFilters(){
      const category = document.getElementById("categoryFilter").value;
      const keyword = document.getElementById("searchInput").value.trim().toLowerCase();

      // 체크된 성별 모으기
      const genderFilters = [];
      if(document.getElementById("genderMale").checked) genderFilters.push("남");
      if(document.getElementById("genderFemale").checked) genderFilters.push("여");

      const filtered = product_data.filter(item=>{
        const matchCategory = category ? item.category === category : true;
        const matchGender = genderFilters.length > 0 ? genderFilters.includes(item.gender) : true;
        const matchKeyword = 
          item.product.toLowerCase().includes(keyword) || 
          item.brand.toLowerCase().includes(keyword);
        return matchCategory && matchGender && matchKeyword;
      });

      renderTable(filtered);
    }

    // 초기 로딩
    renderTable(product_data);

    // 이벤트 리스너 (실시간)
    document.getElementById("categoryFilter").addEventListener("change", applyFilters);
    document.getElementById("genderMale").addEventListener("change", applyFilters);
    document.getElementById("genderFemale").addEventListener("change", applyFilters);
    document.getElementById("searchInput").addEventListener("input", applyFilters);

    // 현재 날짜와 시간
    function updateTime(){
      document.getElementById("currentTime").innerText = new Date().toLocaleString();
    }
    updateTime();
    setInterval(updateTime,1000);

    // 모드변경
    const root = document.documentElement;
    document.querySelectorAll(".theme-btn").forEach(btn=>{
      btn.onclick=()=>root.setAttribute("data-bs-theme",btn.dataset.theme);
    });

    //회원가입 팝업 띄우기
    function openPopup(){
        var popupUrl = '250916_html/signin.html'
        var windowName = 'popupWindow';
        var windowFeatures = 'width=800, height=1000'

        window.open(popupUrl, windowName, windowFeatures);
    }
  </script>
</body>
</html>
